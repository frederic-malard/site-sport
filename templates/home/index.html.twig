{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <button class="perso-big-button">
        configure new exercice
    </button>
    <h1>
        to do today
    </h1>
    {% for exercice in exercices %}
        {% set last = exercice.getLastTime() %}
        {% set hCat = last.getHoursCategory() %}
        {% if exercice.isRun %}
            <div class="perso-card perso-card-distance">
        {% else %}
            <div class="perso-card perso-card-serie">
        {% endif %}
            <p class="perso-card-title">
                {{ exercice.name }}
            </p>
            {% if exercice.isRun %}
                <div class="row card-distance-center">
                    <div class="col-12 col-md-6 card-distance-infos">
                        <p class="perso-{{ hCat }} perso-goal">
                            score to aim : <span class="perso-number">{{ last.getNext() | round }}</span>
                        </p>
            {% else %}
                <p class="perso-{{ hCat }} perso-number">
                    {{ last.getNext() | round }}
                </p>
            {% endif %}
            <p class="perso-{{ hCat }} perso-card-time">
                last time : {{ last.getPassedHours() }} hours ago
            </p>
            <p class="perso-{{ hCat }} perso-card-sentence">
                {% if hCat == 'rest' %}
                    Too early... Take some time to rest !
                {% elseif hCat == 'ok' %}
                    Right now is the perfect time to do it !
                {% elseif hCat == 'limit' %}
                    It's a bit late, you sould do it now !
                {% else %}
                    It've been a while ! You should do it now, or you'll loose performance
                {% endif %}
            </p>
            {% if exercice.isRun %}
                    </div>
                    <div class="col-12 col-md-6 card-distance-test">
                        <p class="card-test-title">
                            test / compute
                        </p>
                        <form action="">
                            <div class="row card-test-seperate">
                                <div class="col-6 card-table-distance">
                                    distance (km) <br>
                                    <input type="text">
                                </div>
                                <div class="col-6 card-table-ascending">
                                    ascending (m) <br>
                                    <input type="text">
                                </div>
                            </div>
                        </form>
                        <p class="card-test-result">
                            score resulting : (calculer)
                        </p>
                    </div>
                </div>
            {% endif %}
            <div class="card-buttons">
                {% if hCat == 'rest' or exercice.break or exercice.stop %}
                    <button class="card-button card-button-disabled">
                        done
                    </button>
                {% else %}
                    <button class="card-button card-button-done">
                        done
                    </button>
                {% endif %}
                {% if exercice.break or exercice.stop %}
                    <button class="card-button card-button-done">
                        restart
                    </button>
                {% else %}
                    <button class="card-button card-button-break">
                        break
                    </button>
                    <button class="card-button card-button-stop">
                        stop
                    </button>
                {% endif %}
                <button class="card-button card-button-remove">
                    remove
                </button>
            </div>
        </div>
    {% endfor %}
{% endblock %}
